# Сохранение архивов shared hosting на Yandex object storage

Данная программа php предназначена для помещения архивов на Yandex object storage

### Установка
1. установите composer
2. Создайте директорию для программы, перейдите в нее
3. дайте команду composer install
4. скопируйте файлы из git в диреторию
5. переименуйте файл example.config.php в config.php
6. Введите в config.php значения статических ключей из Яндекс
7. в config.php введите в backet-name имя бакета, которое вы создали в Яндекс cloud console

### Использование
Узнайте у провайдера как вызвать php (у моего провайдера php вызывался командой php7.3 )

#### Дайте команду php7.3 put_file_to_ya.php fileName destFileName
Где: <br>
fileName - имя файла, который нужно поместить в Яндекс <br> 
destFileName - имя файла в бакете Яндекс

##### Пример
php7.3 put_file_to_ya.php ../gal_arch/mgal_data.tar.gz mgal/mgal1.gz

mgal/mgal1.gz - такое имя будет у Вас в бакете

##### Массовая передача файлов
Если у Вас много архивов - то поможет scan_dir.php  
Она сканирует директорию (директория задается в теле скрипта) и последовательно помещает найденные файлы tar.gz в Яндекс

### тестирование
gen_file.php - генерирует тестовый набор файлов

### Лимиты
Поскольку данный скрипт создавался для виртуального (shared) хостинга - то у него есть лимиты работы скрипта php. В силу этого не все файлы из директории могут попасть в Яндекс - возможно будет лучше их отправлять по одному.